"use strict";!function(n,a){function e(t,n){return t?n.fadeIn(50).css({display:"block"}):n.fadeOut(50)}var i=a("#menu");a("body"),a(n).resize(function(){var t=document.body.clientWidth<960;e(!t,i)}),a(document).on("click",function(){var t=document.body.clientWidth<960;e(!t,i)}),a("#open-menu").on("click",function(t){t.stopPropagation();t=i.css("display");e("block"!==t,i)});var c=a("#gotoup");a(n).on("scroll",function(){var t=n.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;e(400<t,c)}),c.on("click",function(){a("body,html").animate({scrollTop:0},1e3)});var t,o,l,r=a("#site-notice");r&&(t=1,o=r.find("ul"),l=r.find("li").length,setInterval(function(){l<=t&&(t=0),o.css({top:-24*t+++"px"})},5e3));var u,s,d=a("#album");0<d.length&&((u=a("#log-body")).find("img").parent("a").click(function(t){t.preventDefault()}),u.on("click","img",function(t){t.stopPropagation();var i=a(t.target).attr("src"),t=u.find("img"),c=[];t.each(function(t,n){var e=a(n).attr("src"),n="",n=i===e?"<img src='"+e+"' class='active' />":"<img src='"+e+"' />";-1===a.inArray(n,c)&&c.push(n)}),a("#album-pic").html(c.join("")),d.fadeIn(100)}),f=a("#album-ctrl"),s=a("#album-pic"),f.on("click","#next",function(){var t=s.find("img");if(t.length<2)return!1;var n=a("#album-pic").find("img.active");(n.next().length?n.next():a(t[0])).attr("class","active"),n.removeClass("active")}),f.on("click","#prev",function(){var t=s.find("img");if(t.length<2)return!1;var n=a("#album-pic").find("img.active");n.prev().length?n.prev().attr("class","active"):a(t[t.length-1]).addClass("active"),n.removeClass("active")}),f.on("click","#close-album",function(){d.hide()}),d.on("click",".shadow",function(){d.fadeOut(100)})),prettyPrint(),a(".layer-reward").on("click",function(){layer.tab({area:["323px","320px"],shadeClose:!0,tab:[{title:"微信",content:'<img src="'+WECHAT_PAY_URL+'" style="display: block;margin: 0 auto;" height="256" alt="微信打赏">'},{title:"支付宝",content:'<img src="'+ALIPAY_URL+'" style="display: block;margin: 0 auto;" height="256" alt="打赏作者">'}]})});var f=a(".search-input"),m=a("#search-form");f.focus(function(){m.addClass("active")}),f.blur(function(){m.removeClass("active")}),a(".lazyload").lazyload(),a("#submit-btn").on("click",function(t){t.preventDefault(),t.stopPropagation(),""===a("#keyword").val()?layer.msg("关键字不可为空"):m.submit()}),a("#search-trigger").click(function(t){t.preventDefault(),m.fadeIn(50),m.find("input").val("").focus()}),m.find("input").blur(function(){m.fadeOut(50)}),a(document).on("keydown",function(t){t.ctrlKey&&70===t.keyCode&&(t.preventDefault(),a("#search-trigger").click()),27===t.keyCode&&m.fadeOut(50)}),a("html").css({fontSize:Math.min(n.innerWidth/7.5,60)+"px"})}(window,jQuery);